// Load remembered phone
      if(localStorage.getItem("rememberedPhone")) {
        loginPhoneInput.value = localStorage.getItem("rememberedPhone");
        rememberMe.checked = true;
      }

      // Switch screens
      goToSignUpLink.addEventListener("click", () => {
        loginScreen.style.display = "none";
        signUpScreen.style.display = "block";
        loginMessage.innerText = "";
      });

      goToLoginLink.addEventListener("click", () => {
        signUpScreen.style.display = "none";
        loginScreen.style.display = "block";
        signUpMessage.innerText = "";
      });

      // Show/hide password
      toggleLoginPassword.addEventListener("click", () => {
        loginPassword.type = loginPassword.type === "password" ? "text" : "password";
        toggleLoginPassword.textContent = toggleLoginPassword.textContent === "Show" ? "Hide" : "Show";
      });

      toggleSignUpPassword.addEventListener("click", () => {
        signUpPassword.type = signUpPassword.type === "password" ? "text" : "password";
        toggleSignUpPassword.textContent = toggleSignUpPassword.textContent === "Show" ? "Hide" : "Show";
      });

      // Sign-Up
      signUpForm.addEventListener("submit", e => {
        e.preventDefault();
        const phone = document.getElementById("signUpPhone").value.trim();
        const password = signUpPassword.value;

        if(!phone || !password) {
          signUpMessage.innerText = "Please enter phone and password.";
          return;
        }
        if(users[phone]) {
          signUpMessage.innerText = "Phone already exists.";
          return;
        }
        users[phone] = { password: password };
        signUpMessage.innerText = "Account created! You can login.";
      });

      // Login
      loginForm.addEventListener("submit", e => {
        e.preventDefault();
        const phone = loginPhoneInput.value.trim();
        const password = loginPassword.value;

        if(!phone || !password) {
          loginMessage.innerText = "Enter phone and password.";
          return;
        }

        if(users[phone] && users[phone].password === password) {
          loginMessage.innerText = "Login successful!";
          loginScreen.style.display = "none";
          signUpScreen.style.display = "none";
          appScreen.style.display = "block";

          if(rememberMe.checked) localStorage.setItem("rememberedPhone", phone);
          else localStorage.removeItem("rememberedPhone");
        } else {
          loginMessage.innerText = "Invalid phone or password.";
        }
      });

      // Navigation tabs
      navButtons.forEach(btn => {
        btn.addEventListener("click", () => {
          navButtons.forEach(b => b.classList.remove("active"));
          btn.classList.add("active");

          tabContents.forEach(tab => tab.classList.remove("active"));
          document.getElementById(btn.dataset.tab).classList.add("active");
        });
      });

      // Wallet - add funds
      addFundsBtn.addEventListener("click", () => {
        const amount = parseFloat(amountInput.value);
        if(!amount || amount <= 0) {
          alert("Enter a valid amount.");
          return;
        }
        balance += amount;
        transactionsList.innerHTML += <li>Added ₦${amount.toFixed(2)}</li>;
        amountInput.value = "";
      });

      // IRIS Assistant chat
      chatSend.addEventListener("click", () => {
        const msg = chatInput.value.trim();
        if(!msg) return;
        irisChat.innerHTML += <div class="chat-message chat-user">You: ${msg}</div>;
        chatInput.value = "";

        // Simple bot response simulation
        setTimeout(() => {
          let reply = "IRIS Assistant: I'm here to help you!";
          if(msg.toLowerCase().includes("balance")) reply = IRIS Assistant: Your balance is ₦${balance.toFixed(2)};
          irisChat.innerHTML += <div class="chat-message chat-bot">${reply}</div>;
          irisChat.scrollTop = irisChat.scrollHeight;
        }, 500);
      });
