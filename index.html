<!-- Main App Screen -->
  <div id="appScreen" style="display:none;">
    <div class="nav-bar">
      <button class="nav-btn active" data-tab="walletTab">Wallet</button>
      <button class="nav-btn" data-tab="cardTab">Card</button>
      <button class="nav-btn" data-tab="moreTab">More</button>
    </div>

    <div id="walletTab" class="tab-content active">
      <h2>Wallet</h2>
      <p>Balance: â‚¦0</p>
      <input type="text" id="amountInput" placeholder="Enter amount to add">
      <button id="addFundsBtn">Add Funds</button>
      <ul id="transactions" class="transactions-list"></ul>
    </div>

    <div id="cardTab" class="tab-content">
      <h2>Card</h2>
      <p>Virtual card and details coming soon!</p>
    </div>

    <div id="moreTab" class="tab-content">
      <h2>More</h2>
      <h3>IRIS Assistant</h3>
      <div id="irisChat"></div>
      <input type="text" id="chatInput" placeholder="Type your message">
      <button id="chatSend">Send</button>
      <a href="https://wa.me/2348147449565" target="_blank" class="service-link">Merchant Customer Service</a>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const loginScreen = document.getElementById("loginScreen");
      const signUpScreen = document.getElementById("signUpScreen");
      const appScreen = document.getElementById("appScreen");
      const goToSignUpLink = document.getElementById("goToSignUp");
      const goToLoginLink = document.getElementById("goToLogin");
      const loginForm = document.getElementById("loginForm");
      const signUpForm = document.getElementById("signUpForm");
      const loginMessage = document.getElementById("loginMessage");
      const signUpMessage = document.getElementById("signUpMessage");
      const loginPhoneInput = document.getElementById("loginPhone");
      const rememberMe = document.getElementById("rememberMe");
      const loginPassword = document.getElementById("loginPassword");
      const toggleLoginPassword = document.getElementById("toggleLoginPassword");
      const signUpPassword = document.getElementById("signUpPassword");
      const toggleSignUpPassword = document.getElementById("toggleSignUpPassword");
      const navButtons = document.querySelectorAll(".nav-btn");
      const tabContents = document.querySelectorAll(".tab-content");
      const amountInput = document.getElementById("amountInput");
      const addFundsBtn = document.getElementById("addFundsBtn");
      const transactionsList = document.getElementById("transactions");
      const chatInput = document.getElementById("chatInput");
      const chatSend = document.getElementById("chatSend");
      const irisChat = document.getElementById("irisChat");
      let balance = 0;
      const users = {};

      // Remember Me
      if(localStorage.getItem("rememberedPhone")) {
        loginPhoneInput.value = localStorage.getItem("rememberedPhone");
        rememberMe.checked = true;
      }

      // Screen switching
      goToSignUpLink.addEventListener("click", () => { loginScreen.style.display="none"; signUpScreen.style.display="block"; loginMessage.innerText=""; });
      goToLoginLink.addEventListener("click", () => { signUpScreen.style.display="none"; loginScreen.style.display="block"; signUpMessage.innerText=""; });

      // Show/Hide Password
      toggleLoginPassword.addEventListener("click", () => { loginPassword.type = loginPassword.type==="password"?"text":"password"; toggleLoginPassword.textContent = toggleLoginPassword.textContent==="Show"?"Hide":"Show"; });
      toggleSignUpPassword.addEventListener("click", () => { signUpPassword.type = signUpPassword.type==="password"?"text":"password"; toggleSignUpPassword.textContent = toggleSignUpPassword.textContent==="Show"?"Hide":"Show"; });

      // Sign-Up


signUpForm.addEventListener("submit", e => {
        e.preventDefault();
        const phone = document.getElementById("signUpPhone").value.trim();
        const password = signUpPassword.value;
        if(!phone || !password){ signUpMessage.innerText="Please enter phone and password."; return; }
        if(users[phone]){ signUpMessage.innerText="Phone already exists."; return; }
        users[phone]={password:password};
        signUpMessage.innerText="Account created! You can login.";
      });

      // Login
      loginForm.addEventListener("submit", e => {
        e.preventDefault();
        const phone = loginPhoneInput.value.trim();
        const password = loginPassword.value;
        if(!phone || !password){ loginMessage.innerText="Enter phone and password."; return; }
        if(users[phone] && users[phone].password===password){
          loginMessage.innerText="Login successful!";
          loginScreen.style.display="none";
          signUpScreen.style.display="none";
          appScreen.style.display="block";
          if(rememberMe.checked) localStorage.setItem("rememberedPhone",phone); else localStorage.removeItem("rememberedPhone");
        } else { loginMessage.innerText="Invalid phone or password."; }
      });

      // Navigation
      navButtons.forEach(btn => {
        btn.addEventListener("click", () => {
          navButtons.forEach(b => b.classList.remove("active"));
          btn.classList.add("active");
          tabContents.forEach(tab => tab.classList.remove("active"));
          document.getElementById(btn.dataset.tab).classList.add("active");
        });
